{"version":3,"file":"static/js/153.b6621b63.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/modules/MovieList/movie-list.module.css?56cf","components/modules/MovieList/MovieList.jsx","components/shared/scripts/smoothScroll.js","webpack://react-homework-template/./src/components/modules/Movies/movies.module.css?5e6b","components/modules/Movies/Movies.jsx","webpack://react-homework-template/./src/components/pages/HomePage/home-page.module.css?bb3a","components/pages/HomePage/HomePage.jsx","components/shared/api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movie-list_list__x5AH+\",\"movieLink\":\"movie-list_movieLink__6CRvY\",\"movieImg\":\"movie-list_movieImg__sNZxs\",\"movieTitle\":\"movie-list_movieTitle__9AfWX\"};","import { Link, useLocation } from 'react-router-dom';\nimport defaultMovieImg from '../../../images/default-movie-img.jpg';\nimport PropTypes from 'prop-types';\n\nimport css from './movie-list.module.css';\n\nconst MovieList = ({ items }) => {\n  const location = useLocation();\n  const elements = items.map(({ id, title, poster_path }) => (\n    <li key={id} className={css.movieLink}>\n      <Link state={{ from: location }} to={`/movies/${id}`}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/original/${poster_path}`\n              : defaultMovieImg\n          }\n          alt={title}\n          className={css.movieImg}\n        />\n        <p className={css.movieTitle}>{title}</p>\n      </Link>\n    </li>\n  ));\n\n  return <ul className={css.list}>{elements}</ul>;\n};\n\nexport default MovieList;\n\nMovieList.propTypes = {\n  items: PropTypes.array,\n};\n","import * as Scroll from 'react-scroll';\n\nconst scroll = Scroll.animateScroll;\n\nexport const smoothScroll = page => {\n  if (page > 1) {\n    const { height: cardHeight } = document\n      .querySelector('li')\n      .firstElementChild.getBoundingClientRect();\n    scroll.scrollMore(cardHeight * 10);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loadMoreBtn\":\"movies_loadMoreBtn__0M6To\"};","import { useState, useEffect } from 'react';\n\nimport MovieList from '../MovieList/MovieList';\n\nimport { getTrendingMovies } from '../../shared/api/movies';\nimport { smoothScroll } from '../../shared/scripts/smoothScroll';\n\nimport css from './movies.module.css';\n\nconst Movies = () => {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchAPI = async () => {\n      setLoading(true);\n      try {\n        const result = await getTrendingMovies(page);\n        if (page === 1) {\n          return setItems([...result.results]);\n        }\n        setItems(prevState => [...prevState, ...result.results]);\n        smoothScroll(page);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAPI();\n  }, [page]);\n\n  const onLoadMore = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  return (\n    <>\n      {loading && <p>...Loading</p>}\n      {error && <p>Error</p>}\n      {<MovieList items={items} />}\n      <button\n        type=\"button\"\n        onClick={onLoadMore}\n        className={`btn ${css.loadMoreBtn}`}\n      >\n        Load more\n      </button>\n    </>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"homePAgeTitle\":\"home-page_homePAgeTitle__CUGbI\"};","import Movies from 'components/modules/Movies/Movies';\n\nimport css from './home-page.module.css';\n\nconst HomePage = () => {\n  return (\n    <div className=\"container\">\n      <h2 className={css.homePAgeTitle}>Trending today</h2>\n      <Movies />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '3c291d17985a5640676e8849c9a91fc7',\n  },\n});\n\nexport const getTrendingMovies = async page => {\n  const { data } = await instance.get('/trending/movie/week', {\n    params: {\n      page,\n    },\n  });\n\n  return data;\n};\n\nexport const getSingleMovie = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getSingleMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getSingleMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n"],"names":["items","location","useLocation","elements","map","id","title","poster_path","className","css","state","from","to","src","defaultMovieImg","alt","scroll","Scroll","smoothScroll","page","cardHeight","document","querySelector","firstElementChild","getBoundingClientRect","height","scrollMore","useState","setItems","setPage","loading","setLoading","error","setError","useEffect","fetchAPI","getTrendingMovies","result","results","prevState","message","MovieList","type","onClick","instance","axios","baseURL","params","api_key","get","data","getSingleMovie","getSingleMovieCredits","getSingleMovieReviews","getSearchMovie","query"],"sourceRoot":""}